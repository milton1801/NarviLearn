<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="profile.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>NarviLearn - Profile</title>
  <script src="global.js"></script>
  <link rel="stylesheet" href="global.css">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
</head>
<body>
  <div id="navbar">
    <h1>NarviLearn</h1>
    <ul id="l1">
      <li><a href="Home.html">Home</a></li>
      <li><a href="#">Pricing</a></li>
      <li><a href="syllabus.html"> Syllabus</a></li>
      <li><a href="about.html">About</a></li>
      <li class="profile-link">
        <a href="profile.html">
          <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#e3e3e3">
            <path d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z"/>
          </svg>
        </a>
        <div id="minilog">
          <!-- Content for minilog -->
         <a href="index.html">Log out</a>
        </div>
      </li>
    </ul>
  </div>

  <div id="prof">
    <p id="p">Profile</p>
    <img id="profilePic" src="" alt="Profile Picture" width="200px" height="200px" style="border-radius: 50%; margin-top: 20px; margin-left: -450px;">
  </div>

  <div>
    <p id="name"></p>
    <p id="email"> </p>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDPy6wUxciHk2fAeFmZ9pPtL5sNwwA7gwc",
      authDomain: "learnnarvi1.firebaseapp.com",
      projectId: "learnnarvi1",
      storageBucket: "learnnarvi1.firebasestorage.app",
      messagingSenderId: "540019310652",
      appId: "1:540019310652:web:2a8a0ac2b5b8fe30e6c339",
      measurementId: "G-25RWM41ZWF"
    };

    firebase.initializeApp(firebaseConfig);

    firebase.auth().onAuthStateChanged((user) => {
      if (user) {
        document.getElementById("profilePic").src = user.photoURL;
        document.getElementById("name").textContent = user.displayName;
        document.getElementById("email").textContent = user.email;
      } else {
        window.location.href = "log.html"; // Redirect if no user is logged in
      }
    });
  </script>

  <div id="prog">
    <div><p id="pro">Progress Overview</p></div>
    <div class="progress-container">
      <svg class="progress-circle" width="120" height="120">
        <circle class="bg" cx="60" cy="60" r="50" />
        <circle class="progress" cx="60" cy="60" r="50" />
      </svg>
      <div class="progress-text" id="progress-text">0% Complete</div>
      <div>
        <ul id="Cu">
         <li id="un">0</li>
         <li id="do">0</li> 
         <li id="tre">0</li> 
        </ul>
      </div>
      <div>
        <ul id="co">
          <li>Courses<br>Completed</li>
          <li>In Progress</li>
          <li>Streak<br>Days</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Chart -->
  <div class="stats-box">
    <h3>Statistics</h3>
    <canvas id="statsChart" width="300" height="150"></canvas>
  </div>

  <!-- Recent Activity -->
  <div class="activity-box">
    <h3>Recent Activity</h3>
    <canvas id="activityChart"></canvas>
  
 
  </div>
  <!-- settings -->
  <div class="settings-box">
    <h3>Settings</h3>
    <ul class="settings-list">
      <li><span>ðŸ”’</span> Change Password</li>
      <li><span>ðŸ””</span> Manage Notifications</li>
      <li class="toggle-item">
        <span>ðŸŒ™ Dark Mode</span>
        <label class="switch">
          <input type="checkbox" id="darkModeToggle">
          <span class="slider round"></span>
        </label>
      </li>
    </ul>
  </div>
  <script>
    // Stats Chart
    const ctx1 = document.getElementById('statsChart').getContext('2d');
    new Chart(ctx1, {
      type: 'line',
      data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
          label: 'Time Learned (min)',
          data: [10, 15, 5, 20, 25, 30, 40],
          fill: true,
          borderColor: '#4A90E2',
          backgroundColor: 'rgba(74,144,226,0.2)',
          tension: 0.4,
          pointRadius: 4,
          pointBackgroundColor: '#4A90E2'
        }]
      },
      options: {
        responsive: false,
        scales: {
          y: {
            beginAtZero: true
          }
        },
        plugins: {
          legend: {
            display: false
          }
        }
      }
    });

    // Activity Chart
    const ctx2 = document.getElementById('activityChart').getContext('2d');
    new Chart(ctx2, {
      type: 'line',
      data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
          label: 'Minutes Learned',
          data: [5, 10, 7, 12, 8, 4, 9],
          fill: true,
          borderColor: '#3B82F6',
          backgroundColor: 'rgba(59, 130, 246, 0.2)',
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              stepSize: 5
            }
          }
        }
      }
    });
  </script>
  <!-- settings -->
  <script>
    const toggle = document.getElementById('darkModeToggle');
  
    toggle.addEventListener('change', function () {
      document.body.classList.toggle('dark-mode');
    });
  </script>
  
  
</body>
</html>

